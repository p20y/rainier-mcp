{"components":{"callbacks":{},"examples":{},"headers":{},"links":{},"parameters":{"clientHeader":{"description":"Identifier of a client associated with a 'Login with Amazon' account.","in":"header","name":"Amazon-Advertising-API-ClientId","required":true,"schema":{"type":"string"}},"entityHeader":{"description":"Identifier of an entity associated with advertising campaigns. Use `GET` method on amc/accounts to fetch the AMC Account ID/Entity ID.","in":"header","name":"Amazon-Advertising-API-EntityId","required":false,"schema":{"type":"string"}},"instanceIdHeader":{"description":"AMC Instance ID","in":"header","name":"Amazon-Marketing-Cloud-Audience-InstanceId","required":true,"schema":{"type":"string"}}},"requestBodies":{},"responses":{},"schemas":{"AMCLookalikeAudiencesRequest":{"allOf":[{"$ref":"#/components/schemas/AMCQueryBasedAudiencesRequest"},{"description":"Request for create lookalike audience.","properties":{"lookalikeAudienceExpectedReach":{"description":"Preference of more broad versus more similar audiences. The available options are MOST_SIMILAR, SIMILAR, BALANCED, BROAD, or MOST_BROAD.","type":"string"},"refreshRateDays":{"default":21,"description":"Customer's desired frequency for refreshing their lookalike audience in days. For lookalike audiences only values from 7 to 21 are valid.","maximum":21,"minimum":7,"type":"integer"}},"required":["lookalikeAudienceExpectedReach"],"type":"object"}]},"AMCLookalikeAudiencesResponse":{"allOf":[{"$ref":"#/components/schemas/AMCQueryBasedAudiencesResponse"},{"description":"Response for creating a lookalike audience.","properties":{"status":{"$ref":"#/components/schemas/AudienceExecutionState","properties":{}}},"type":"object"}]},"AMCQueryBasedAudiencesExecutionMetadata":{"description":"Query based audience execution metadata information.","properties":{"advertiserId":{"description":"AdvertiserId to create and activate appropriate audience.","type":"string"},"audienceDescription":{"description":"Customer provided description for audience.","type":"string"},"audienceExecutionId":{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","type":"string"},"audienceName":{"description":"Customer provided name for audience. This has 'AMC ' prepended in DSP.","type":"string"},"createTime":{"description":"Timestamp for the first time query was submitted.This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"dspAudienceId":{"description":"Audience ID of audience in DSP.","type":"string"},"instanceId":{"description":"AMC instance identifier.","type":"string"},"lastRefreshedTime":{"description":"Timestamp of the most recent refresh of the audiences created. Initially it is set to the timestamp of a successful audience creation.","format":"date-time","type":"string"},"query":{"description":"Customer created query to run on AMC instance.","type":"string"},"refreshRateDays":{"default":21,"description":"Customer's desired frequency for refreshing their audience in days.The rate could be set to 0 to force the audience to be deactivated after 30 days.","maximum":21,"minimum":0,"type":"integer"},"status":{"$ref":"#/components/schemas/QueryBasedAudienceExecutionState"},"statusReason":{"description":"Description of why the audience is in its state.","type":"string"},"timeWindowEnd":{"description":"Ending date of data to query.This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"timeWindowRelative":{"default":false,"description":"If true, time window is moved for each refresh so that the query uses more recent data. Defaults to false.","type":"boolean"},"timeWindowStart":{"description":"Starting date of data to query.This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"}},"required":["advertiserId","audienceName","createTime","instanceId","query","timeWindowEnd","timeWindowStart"],"type":"object"},"AMCQueryBasedAudiencesExecutionMetadataList":{"properties":{"executionMetadata":{"description":"List of all the executions for a given instanceId.","items":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadata","properties":{}},"maxItems":100,"minItems":0,"type":"array"},"nextToken":{"description":"Token to use in subsequent request to retrieve next page of results. Field will be null if all results have been returned.","type":"string"}},"type":"object"},"AMCQueryBasedAudiencesExecutionMetadataListV11":{"properties":{"executionMetadata":{"description":"List of all the executions for a given instanceId.","items":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataV11","properties":{}},"maxItems":100,"minItems":0,"type":"array"},"nextToken":{"description":"Token to use in subsequent request to retrieve next page of results. Field will be null if all results have been returned.","type":"string"}},"type":"object"},"AMCQueryBasedAudiencesExecutionMetadataListV12":{"properties":{"executionMetadata":{"description":"List of all the executions for a given instanceId.","items":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataV12","properties":{}},"maxItems":100,"minItems":0,"type":"array"},"nextToken":{"description":"Token to use in subsequent request to retrieve next page of results. Field will be null if all results have been returned.","type":"string"}},"type":"object"},"AMCQueryBasedAudiencesExecutionMetadataV11":{"description":"Query based audience execution metadata information.","properties":{"advertiserId":{"description":"Advertiser ID to create and activate appropriate audience.","type":"string"},"audienceCount":{"default":0,"description":"Approximate number of audience members.","minimum":0,"type":"integer"},"audienceDescription":{"description":"Customer provided description for audience.","type":"string"},"audienceExecutionId":{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","type":"string"},"audienceName":{"description":"Customer provided name for audience. This has 'AMC ' prepended in DSP.","type":"string"},"createTime":{"description":"Timestamp for the first time query was submitted. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"dspAudienceId":{"description":"Audience ID of audience in DSP.","type":"string"},"dspCanonicalId":{"description":"Canonical ID of the created audience in DSP.","type":"string"},"instanceId":{"description":"AMC instance identifier.","type":"string"},"lastRefreshedTime":{"description":"Timestamp of the most recent refresh of the audiences created. Initially it is set to the timestamp of a successful audience creation.","format":"date-time","type":"string"},"query":{"description":"Customer created query to run on AMC instance.","type":"string"},"refreshRateDays":{"default":21,"description":"Customer's desired frequency for refreshing their audience in days. The rate could be set to 0 to force the audience to be deactivated after 30 days.","maximum":21,"minimum":0,"type":"integer"},"status":{"$ref":"#/components/schemas/QueryBasedAudienceExecutionState"},"statusReason":{"description":"Description of why the audience is in its state.","type":"string"},"timeWindowEnd":{"description":"Ending date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"timeWindowRelative":{"default":false,"description":"If true, time window is moved for each refresh so that the query uses more recent data. Defaults to false.","type":"boolean"},"timeWindowStart":{"description":"Starting date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"}},"required":["advertiserId","audienceName","createTime","instanceId","query","timeWindowEnd","timeWindowStart"],"type":"object"},"AMCQueryBasedAudiencesExecutionMetadataV12":{"description":"Query based audience execution metadata information.","properties":{"advertiserId":{"description":"Advertiser ID to create and activate appropriate audience.","type":"string"},"advertiserType":{"$ref":"#/components/schemas/AdvertiserType"},"audienceCount":{"default":0,"description":"Approximate number of audience members.","minimum":0,"type":"integer"},"audienceDescription":{"description":"Customer provided description for audience.","type":"string"},"audienceExecutionId":{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","type":"string"},"audienceName":{"description":"Customer provided name for audience. This has 'AMC ' prepended in DSP.","type":"string"},"audienceType":{"description":"The type of the audience: RULE_BASED or LOOKALIKE.","type":"string"},"createTime":{"description":"Timestamp for the first time query was submitted. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"dspAudienceId":{"description":"Audience ID of audience in DSP.","type":"string"},"dspCanonicalId":{"description":"CanonicalId of the created audience in DSP.","type":"string"},"inputParameters":{"$ref":"#/components/schemas/QueryBasedAudienceInputParam"},"instanceId":{"description":"AMC instance identifier.","type":"string"},"lastRefreshedTime":{"description":"Timestamp of the most recent refresh of the audiences created. Initially it is set to the timestamp of a successful audience creation.","format":"date-time","type":"string"},"lookalikeAudienceExpectedReach":{"description":"Preference of more broad versus more similar audiences. The available options are MOST_SIMILAR, SIMILAR, BALANCED, BROAD, or MOST_BROAD.","type":"string"},"no3pTrackers":{"default":true,"description":"Is this audience not allowed to use 3P tracking","type":"boolean"},"parameterValues":{"additionalProperties":{"properties":{}},"description":"Custom parameters specified in the query.","type":"object"},"query":{"description":"Customer created query to run on AMC instance.","type":"string"},"refreshRateDays":{"default":21,"description":"Customer's desired frequency for refreshing their audience in days. The rate could be set to 0 to force the audience to be deactivated after 30 days.","maximum":21,"minimum":0,"type":"integer"},"status":{"$ref":"#/components/schemas/QueryBasedAudienceExecutionState"},"statusReason":{"description":"Description of why the audience is in its state.","type":"string"},"timeWindowEnd":{"description":"Ending date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"timeWindowRelative":{"default":false,"description":"If true, time window is moved for each refresh so that the query uses more recent data. Defaults to false.","type":"boolean"},"timeWindowStart":{"description":"Starting date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"workflowId":{"description":"Reference to an AMC workflow","type":"string"}},"required":["advertiserId","audienceName","createTime","instanceId","query","timeWindowEnd","timeWindowStart"],"type":"object"},"AMCQueryBasedAudiencesRequest":{"description":"Request for create audience.","oneOf":[{"required":["query"]},{"required":["workflowId"]}],"properties":{"advertiserId":{"description":"Advertiser ID for which an audience is created and activated.","type":"string"},"audienceDescription":{"description":"Customer provided description for audience.","type":"string"},"audienceName":{"description":"Customer provided name for audience. This has 'AMC ' prepended in DSP.","type":"string"},"inputParameters":{"$ref":"#/components/schemas/QueryBasedAudienceInputParam"},"parameterValues":{"additionalProperties":{},"description":"Custom parameters specified in the query.","maxProperties":100,"minProperties":0,"type":"object"},"query":{"description":"Customer created query to run on AMC instance.","type":"string"},"refreshRateDays":{"default":21,"description":"Customer's desired frequency for refreshing their audience in days. The rate could be set to 0 to force the audience to be deactivated after 30 days.","maximum":21,"minimum":0,"type":"integer"},"timeWindowEnd":{"description":"Ending date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"timeWindowRelative":{"default":false,"description":"If true, the time window is moved for each refresh so that the query uses more recent data. Defaults to false.","type":"boolean"},"timeWindowStart":{"description":"Starting date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"workflowId":{"description":"Reference to an AMC workflow","type":"string"}},"required":["advertiserId","audienceName","timeWindowEnd","timeWindowStart"],"type":"object"},"AMCQueryBasedAudiencesResponse":{"description":"Response on a successful audience creation.","properties":{"audienceExecutionDescription":{"description":"Human readable status message.","type":"string"},"audienceExecutionId":{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","type":"string"},"status":{"$ref":"#/components/schemas/QueryBasedAudienceExecutionState"}},"required":["audienceExecutionDescription","audienceExecutionId","status"],"type":"object"},"AMCQueryBasedAudiencesUpdateRequest":{"description":"Request to update an audience, replacing its configuration with the one provided. Some attributes are not modifiable at this time, but are required because they may become modifiable in the future.","oneOf":[{"required":["query"]},{"required":["workflowId"]}],"properties":{"advertiserId":{"description":"Advertiser ID for which an audience is created and activated. This must be the same as the existing value.","type":"string"},"audienceDescription":{"description":"Customer provided description for audience. This must be the same as the existing value, and must be provided if and only if it currently exists.","type":"string"},"audienceName":{"description":"Customer provided name for audience. This has 'AMC ' prepended in DSP. This must be the same as the existing value.","type":"string"},"audienceType":{"description":"The type of the audience: RULE_BASED or LOOKALIKE. This must be the same as the existing value.","type":"string"},"inputParameters":{"$ref":"#/components/schemas/QueryBasedAudienceInputParam"},"lookalikeAudienceExpectedReach":{"description":"Preference of more broad versus more similar Lookalike audiences. The available options are MOST_SIMILAR, SIMILAR, BALANCED, BROAD, or MOST_BROAD. This must be the same as the existing value.","type":"string"},"parameterValues":{"additionalProperties":{},"description":"Custom parameters specified in the query.","type":"object"},"query":{"description":"Customer created query to run on AMC instance.","type":"string"},"timeWindowEnd":{"description":"Ending date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"timeWindowRelative":{"default":false,"description":"If true, the time window is moved for each refresh so that the query uses more recent data. Defaults to false.","type":"boolean"},"timeWindowStart":{"description":"Starting date of data to query. This field is in UTC and is formatted as yyyy-MM-dd'T'HH:mm:ss'Z'.","format":"date-time","type":"string"},"workflowId":{"description":"Reference to an AMC workflow","type":"string"}},"required":["advertiserId","audienceName","audienceType","timeWindowEnd","timeWindowStart"],"type":"object"},"AMCQueryBasedAudiencesUpdateResponse":{"description":"Response on a successful update of an audience.","properties":{"audienceExecutionDescription":{"description":"Human readable status message.","type":"string"},"audienceExecutionId":{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","type":"string"},"status":{"$ref":"#/components/schemas/QueryBasedAudienceExecutionState"}},"required":["audienceExecutionDescription","audienceExecutionId","status"],"type":"object"},"AdvertiserType":{"description":"Enum containing all possible advertiser types.","enum":["DISPLAY","SPONSORED_ADS"],"type":"string"},"AudienceError":{"description":"Error response object.","properties":{"code":{"description":"HTTP status code of the response.","type":"string"},"details":{"description":"Human-readable description of the response.","type":"string"},"requestId":{"description":"Value created by Amazon API Gateway that uniquely identifies your request","type":"string"}},"type":"object"},"AudienceExecutionState":{"description":"Enum containing all possible audience execution states.","enum":["DEACTIVATED","FAILED","PENDING","RUNNING","SUCCEEDED"],"type":"string"},"ComplexDataType":{"oneOf":[{"properties":{"elementDataType":{"$ref":"#/components/schemas/DataTypes"},"elementNullable":{"type":"boolean"},"type":{"enum":["ARRAY"],"type":"string"}},"type":"object"},{"properties":{"precision":{"nullable":true,"type":"integer"},"type":{"enum":["DECIMAL"],"type":"string"}},"type":"object"},{"properties":{"keyDataType":{"$ref":"#/components/schemas/DataTypes","nullable":true},"type":{"enum":["MAP"],"type":"string"},"valueDataType":{"$ref":"#/components/schemas/DataTypes","nullable":true},"valueNullable":{"type":"boolean"}},"type":"object"},{"properties":{"fields":{"items":{"properties":{"dataType":{"$ref":"#/components/schemas/DataTypes"},"name":{"type":"string"}},"type":"object"},"maxItems":100,"minItems":0,"type":"array"},"type":{"enum":["STRUCT"],"type":"string"}},"type":"object"}],"type":"object"},"DataTypes":{"oneOf":[{"$ref":"#/components/schemas/SimpleDataType"},{"$ref":"#/components/schemas/ComplexDataType"}]},"LookalikeAudienceErrorResponse":{"allOf":[{"$ref":"#/components/schemas/AudienceError"}]},"QueryBasedAudienceErrorResponse":{"allOf":[{"$ref":"#/components/schemas/AudienceError"}]},"QueryBasedAudienceExecutionState":{"allOf":[{"$ref":"#/components/schemas/AudienceExecutionState"}]},"QueryBasedAudienceInputParam":{"description":"\"Optional. Defines the parameters that can be referenced by workflow.\ndefinition. If workflow references a parameter not defined here the compilation\nfails.\"\n","items":{"properties":{"columnType":{"description":"Type of the column corresponding to the parameter.","enum":["DIMENSION","METRIC"],"type":"string"},"dataType":{"description":"Data type of the parameter corresponding to the data type of a column.","oneOf":[{"$ref":"#/components/schemas/SimpleDataType"},{"$ref":"#/components/schemas/ComplexDataType"}]},"defaultValue":{"description":"Value to assign to the parameter if no value is provided.","type":"string"},"description":{"description":"Human-readable description of what the parameter is used for.","type":"string"},"name":{"description":"Name of the parameter.","type":"string"}},"required":["dataType","name"],"type":"object"},"maxItems":100,"minItems":0,"type":"array"},"SimpleDataType":{"type":"string"}},"securitySchemes":{}},"info":{"title":"Rule-Based Audiences","version":"3.0"},"openapi":"3.0.1","paths":{"/amc/audiences/lookalike":{"post":{"description":"Creates a lookalike audience execution metadata. This operation starts the execution workflow to generate lookalike audience and activate it in DSP. This is an idempotent operation.","operationId":"createLookalikeAudience","parameters":[{"$ref":"#/components/parameters/clientHeader"},{"$ref":"#/components/parameters/entityHeader"},{"$ref":"#/components/parameters/instanceIdHeader"}],"requestBody":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCLookalikeAudiencesRequest"}}}},"responses":{"200":{"content":{"application/vnd.amclookalikeaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCLookalikeAudiencesResponse"}}},"description":"Audience creation metadata received from process."},"400":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/LookalikeAudienceErrorResponse"}}},"description":"Invalid input arguments passed."},"429":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/LookalikeAudienceErrorResponse"}}},"description":"Too many requests on this operation, try again after some time."},"500":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/LookalikeAudienceErrorResponse"}}},"description":"Unknown service exception while processing the request."}},"summary":"Creates lookalike audience execution metadata information.","tags":["Rule-based audience lookalike"]}},"/amc/audiences/query":{"get":{"description":"Returns list of execution metadata information for a given instanceId.","operationId":"getAllQueryBasedAudiencesByInstanceId","parameters":[{"$ref":"#/components/parameters/clientHeader"},{"$ref":"#/components/parameters/entityHeader"},{"$ref":"#/components/parameters/instanceIdHeader"},{"description":"Optional. Limits the number of items to return in the response. Max value is 100. Defaults to 100.","in":"query","name":"maxResults","schema":{"default":100,"maximum":100,"minimum":1,"type":"integer"}},{"description":"Optional. Token to retrieve subsequent page of results.","in":"query","name":"nextToken","schema":{"type":"string"}}],"responses":{"200":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataList"}},"application/vnd.amcquerybasedaudience.v1.1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataListV11"}},"application/vnd.amcquerybasedaudience.v1.2+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataListV12"}}},"description":"Successfully get all execution metadata for a given instanceId."},"400":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Invalid input arguments passed."},"404":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"No resource found for a given instanceId."}},"summary":"Get all query based audiences execution metadata.","tags":["Rule-based audience"]},"post":{"description":"Creates a query based audience execution metadata. This operation starts the execution workflow to create audience and activate it in DSP. This is an idempotent operation.","operationId":"createQueryBasedAudience","parameters":[{"$ref":"#/components/parameters/clientHeader"},{"$ref":"#/components/parameters/entityHeader"},{"$ref":"#/components/parameters/instanceIdHeader"}],"requestBody":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesRequest"}}}},"responses":{"200":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesResponse"}}},"description":"Audience creation metadata received from process."},"400":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Invalid input arguments passed."},"429":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Too many requests on this operation, try again after some time."},"500":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Unknown service exception while processing the request."}},"summary":"Creates query based audience execution metadata information.","tags":["Rule-based audience"]}},"/amc/audiences/query/{audienceExecutionId}":{"delete":{"description":"Deletes an audience for a given instanceId and audienceExecutionId. Only FAILED audiences may be deleted at this time.","operationId":"deleteQueryBasedAudienceByAudienceExecutionId","parameters":[{"$ref":"#/components/parameters/clientHeader"},{"$ref":"#/components/parameters/entityHeader"},{"$ref":"#/components/parameters/instanceIdHeader"},{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","in":"path","name":"audienceExecutionId","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Successfully deleted audience with given audienceExecutionId."},"400":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Invalid input arguments passed."},"404":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"No resource found for a given audienceExecutionId."}},"summary":"Delete query based audience execution metadata for a given audienceExecutionId.","tags":["Rule-based audience"]},"get":{"description":"Returns execution metadata information for a given instanceId and audienceExecutionId.","operationId":"getQueryBasedAudienceByAudienceExecutionId","parameters":[{"$ref":"#/components/parameters/clientHeader"},{"$ref":"#/components/parameters/entityHeader"},{"$ref":"#/components/parameters/instanceIdHeader"},{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","in":"path","name":"audienceExecutionId","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadata"}},"application/vnd.amcquerybasedaudience.v1.1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataV11"}},"application/vnd.amcquerybasedaudience.v1.2+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesExecutionMetadataV12"}}},"description":"Get execution metadata for a given instanceId and audienceExecutionId."},"400":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Invalid input arguments passed."},"404":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"No resource found for a given instanceId."}},"summary":"Get query based audience execution metadata for a given audienceExecutionId.","tags":["Rule-based audience"]},"put":{"description":"Updates audience configuration for a given audienceExecutionId. This will replace the configuration of the audience, resetting any non-provided attributes to default values. Only FAILED audiences may be updated at this time.","operationId":"updateQueryBasedAudienceByAudienceExecutionId","parameters":[{"$ref":"#/components/parameters/clientHeader"},{"$ref":"#/components/parameters/entityHeader"},{"$ref":"#/components/parameters/instanceIdHeader"},{"description":"Identifier that uniquely represents an AMCQueryBasedAudiencesExecutionMetadata.","in":"path","name":"audienceExecutionId","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesUpdateRequest"}}}},"responses":{"200":{"content":{"application/vnd.amcquerybasedaudience.v1.2+json":{"schema":{"$ref":"#/components/schemas/AMCQueryBasedAudiencesUpdateResponse"}}},"description":"Update audience metadata received from process."},"400":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Invalid input arguments passed."},"401":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"401 Unauthorized."},"403":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"User does not have sufficient access to perform this action."},"429":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Too many requests on this operation, try again after some time."},"500":{"content":{"application/vnd.amcquerybasedaudience.v1+json":{"schema":{"$ref":"#/components/schemas/QueryBasedAudienceErrorResponse"}}},"description":"Unknown service exception while processing the request."}},"summary":"Update query based audience execution metadata for a given audienceExecutionId.","tags":["Rule-based audience"]}}}}