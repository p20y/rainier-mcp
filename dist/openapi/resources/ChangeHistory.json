{"components":{"callbacks":{},"examples":{},"headers":{},"links":{},"parameters":{},"requestBodies":{},"responses":{},"schemas":{"HistoryError":{"description":"The error response object.","properties":{"code":{"description":"The HTTP status code of the response.","type":"string"},"details":{"description":"A human-readable description of the response.","type":"string"}},"type":"object"},"HistoryEventType":{"properties":{"eventTypeIds":{"description":"max of 10 event types. IDs here belong to the EventType. For example, if requesting CAMPAGIN as the eventType, these are campaignIds.","items":{"type":"string"},"type":"array"},"filters":{"description":"| Filter | Entity Types |\n||-|\n| BUDGET_AMOUNT | CAMPAIGN |\n| IN_BUDGET | CAMPAIGN |\n| STATUS | CAMPAIGN, AD_GROUP, AD, KEYWORD, PRODUCT_TARGET, NEGATIVE_KEYWORD |\n| END_DATE | CAMPAIGN |\n| START_DATE...","items":{"enum":["BID_AMOUNT","BUDGET_AMOUNT","END_DATE","IN_BUDGET","NAME","PLACEMENT_GROUP","SMART_BIDDING_STRATEGY","START_DATE","STATUS"],"type":"string"},"type":"array"},"parents":{"description":"maximum of 10 parents","items":{"properties":{"adGroupId":{"type":"string"},"campaignId":{"type":"string"},"useProfileIdAdvertiser":{"description":"If true, retrieves events which belong to the associated advertiser","type":"boolean"}},"type":"object"},"type":"array"}},"type":"object"},"HistoryEventTypes":{"properties":{"AD":{"$ref":"#/components/schemas/HistoryEventType"},"AD_GROUP":{"$ref":"#/components/schemas/HistoryEventType"},"CAMPAIGN":{"$ref":"#/components/schemas/HistoryEventType"},"KEYWORD":{"$ref":"#/components/schemas/HistoryEventType"},"NEGATIVE_KEYWORD":{"$ref":"#/components/schemas/HistoryEventType"},"PRODUCT_TARGETING":{"$ref":"#/components/schemas/HistoryEventType"},"THEME":{"$ref":"#/components/schemas/HistoryEventType"}},"type":"object"},"HistoryResponseEvents":{"items":{"properties":{"changeType":{"description":"\nChangeTypes for EntityTypes\n| EntityType | Valid Change Types |\n||--|\n|CAMPAIGN | STATUS, IN_BUDGET, PORTFOLIO, BUDGET_AMOUNT, NAME, START_DATE, END_DATE, SMART_BIDDING_STRATEGY, PLACEMENT_GROUP, CRE...","enum":["BID_AMOUNT","BUDGET_AMOUNT","DEFAULT_BID_AMOUNT","END_DATE","IN_BUDGET","NAME","PLACEMENT_GROUP","PORTFOLIO","SMART_BIDDING_STRATEGY","START_DATE","STATUS"],"properties":{},"type":"string"},"entityId":{"properties":{},"type":"string"},"entityType":{"enum":["AD","AD_GROUP","CAMPAIGN","KEYWORD","NEGATIVE_KEYWORD","PRODUCT_TARGETING","THEME"],"properties":{},"type":"string"},"metadata":{"properties":{"adGroupId":{"type":"string"},"campaignBudgetType":{"enum":["DAILY","LIFETIME_BUDGET"],"type":"string"},"campaignId":{"type":"string"},"keyword":{"type":"string"},"keywordType":{"enum":["KEYWORD_BROAD","KEYWORD_EXACT","KEYWORD_PHRASE"],"type":"string"}},"type":"object"},"newValue":{"description":"\n| EntityType | Change Type | Values |\n||-|--|\n| CAMPAIGN | STATUS | CREATED, ENABLED, PAUSED, ARCHIVED|\n| CAMPAIGN | IN_BUDGET | true or false|\n| CAMPAIGN | PORTFOLIO | portfolioId|\n| CAMPAIGN | BUDG...","properties":{},"type":"string"},"previousValue":{"description":"\n| EntityType | Change Type | Values |\n||-|--|\n| CAMPAIGN | STATUS | CREATED, ENABLED, PAUSED, ARCHIVED|\n| CAMPAIGN | IN_BUDGET | true or false|\n| CAMPAIGN | PORTFOLIO | portfolioId|\n| CAMPAIGN | BUDG...","properties":{},"type":"string"},"timestamp":{"description":"unix time","properties":{},"type":"integer"}},"type":"object"},"type":"array"},"HistorySortParameter":{"properties":{"direction":{"default":"DESC","enum":["ASC","DESC"],"type":"string"},"key":{"enum":["DATE"],"type":"string"}},"type":"object"}},"securitySchemes":{}},"info":{"title":"Change history","version":"3.0"},"openapi":"3.0.1","paths":{"/history":{"post":{"description":"Returns history of changes for provided event sources that match the filters and time ranges specified. Only events that belong to the authenticated Advertiser can be queried.","operationId":"getHistory","requestBody":{"content":{"application/json":{"schema":{"properties":{"count":{"description":"Requested number of results. Default 100. Minimum 50. Maximum 200.","type":"integer"},"eventTypes":{"$ref":"#/components/schemas/HistoryEventTypes"},"fromDate":{"description":"Max 90 days of history.","type":"integer"},"nextToken":{"description":"token from previous response to get next set of data.","type":"string"},"pageOffset":{"description":"Mutually exclusive with 'nextToken'. Max results with pageOffset is 10000. Use nextToken instead for more results.","type":"integer"},"sort":{"$ref":"#/components/schemas/HistorySortParameter"},"toDate":{"type":"integer"}},"required":["eventTypes","fromDate","toDate"],"type":"object"}}},"description":"HistoryQuery","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"properties":{"events":{"$ref":"#/components/schemas/HistoryResponseEvents"},"nextToken":{"description":"returned if not using pageOffset. Can be used in the request to request the next set of results.","type":"string"},"totalResults":{"description":"total results matching the query. Only provided for pageOffset queries and capped at 10000.","type":"integer"}},"type":"object"}}},"description":"Successful query. Result contains historical events matching query"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryError"}}},"description":"Bad Request"},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryError"}}},"description":"Unauthorized - Request failed because user is not authenticated or is not allowed to invoke the operation."},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryError"}}},"description":"Forbidden - Request failed because user does not have access to a specified resource"},"429":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryError"}}},"description":"Too Many Requests - Request was rate-limited. Retry later."},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HistoryError"}}},"description":"Internal Server Error - Something went wrong on the server. Retry later and report an error if unresolved."}},"summary":"History of entity changes."}}}}